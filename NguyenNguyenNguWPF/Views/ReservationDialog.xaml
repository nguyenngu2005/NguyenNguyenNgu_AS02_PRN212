<Window x:Class="NguyenNguyenNguWPF.Views.ReservationDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Reservation" SizeToContent="WidthAndHeight" WindowStartupLocation="CenterOwner"
        Background="{DynamicResource HotelPrimaryBrush}">
    <Window.Resources>
        <Style x:Key="HotelLabelStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource HotelAccentBrush}"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>

        <Style x:Key="HotelDatePickerStyle" TargetType="DatePicker">
            <Setter Property="Background" Value="#FF3E3E42"/>
            <Setter Property="Foreground" Value="{DynamicResource HotelForegroundBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Height" Value="45"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Padding" Value="8,0"/>
        </Style>

        <Style x:Key="SaveButtonStyle" TargetType="Button" BasedOn="{StaticResource HotelButtonStyle}">
            <Setter Property="Background" Value="{DynamicResource HotelHighlightBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource HotelPrimaryBrush}"/>
            <Setter Property="Width" Value="100"/>
            <Setter Property="Height" Value="45"/>
        </Style>

        <Style x:Key="CancelButtonStyle" TargetType="Button" BasedOn="{StaticResource HotelButtonStyle}">
            <Setter Property="Background" Value="{DynamicResource HotelAccentBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource HotelPrimaryBrush}"/>
            <Setter Property="Width" Value="100"/>
            <Setter Property="Height" Value="45"/>
        </Style>

        <Style x:Key="HotelDataGridColumnHeaderStyle" TargetType="DataGridColumnHeader" BasedOn="{StaticResource {x:Type DataGridColumnHeader}}">
            <Setter Property="Foreground" Value="{DynamicResource HotelAccentBrush}"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="BorderThickness" Value="0,0,0,2"/>
            <Setter Property="BorderBrush" Value="{DynamicResource HotelBorderBrush}"/>
            <Setter Property="Padding" Value="10,12"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
        </Style>

        <Style x:Key="HotelDataGridCellStyle" TargetType="DataGridCell" BasedOn="{StaticResource {x:Type DataGridCell}}">
            <Setter Property="Foreground" Value="{DynamicResource HotelForegroundBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="10,8"/>
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="{DynamicResource HotelHighlightBrush}"/>
                    <Setter Property="Foreground" Value="{DynamicResource HotelPrimaryBrush}"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="HotelDataGridStyle" TargetType="DataGrid" BasedOn="{StaticResource {x:Type DataGrid}}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="RowBackground" Value="Transparent"/>
            <Setter Property="AlternatingRowBackground" Value="Transparent"/>
            <Setter Property="GridLinesVisibility" Value="None"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="IsReadOnly" Value="False"/>
            <Setter Property="AutoGenerateColumns" Value="False"/>
            <Setter Property="ColumnHeaderStyle" Value="{StaticResource HotelDataGridColumnHeaderStyle}"/>
            <Setter Property="CellStyle" Value="{StaticResource HotelDataGridCellStyle}"/>
        </Style>

    </Window.Resources>

    <DockPanel Margin="20">
        <Grid DockPanel.Dock="Top" Margin="0,0,0,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="120"/>
                <ColumnDefinition Width="260"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <TextBlock Text="Reservation ID" Grid.Row="0" Grid.Column="0" Margin="0,6" Style="{StaticResource HotelLabelStyle}"/>
            <TextBox Text="{Binding BookingReservationID}" Grid.Row="0" Grid.Column="1" Margin="0,4"
                     Style="{DynamicResource HotelTextBoxStyle}" Height="45" IsReadOnly="True"/>

            <TextBlock Text="Booking Date" Grid.Row="1" Grid.Column="0" Margin="0,6" Style="{StaticResource HotelLabelStyle}"/>
            <DatePicker SelectedDate="{Binding BookingDate}" Grid.Row="1" Grid.Column="1" Margin="0,4"
                        Style="{StaticResource HotelDatePickerStyle}"/>

            <TextBlock Text="Customer ID" Grid.Row="2" Grid.Column="0" Margin="0,6" Style="{StaticResource HotelLabelStyle}"/>
            <TextBox Text="{Binding CustomerID}" Grid.Row="2" Grid.Column="1" Margin="0,4"
                     Style="{DynamicResource HotelTextBoxStyle}" Height="45"/>
        </Grid>

        <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
            <Button Content="Add row" Click="AddRow_Click" Style="{StaticResource CancelButtonStyle}"/>
            <Button Content="Save" Margin="8,0,0,0" IsDefault="True" Click="Save_Click" Style="{StaticResource SaveButtonStyle}"/>
            <Button Content="Cancel" Margin="8,0,0,0" IsCancel="True" Style="{StaticResource CancelButtonStyle}"/>
        </StackPanel>

        <DataGrid ItemsSource="{Binding Details}" 
                  AutoGenerateColumns="False" 
                  Style="{StaticResource HotelDataGridStyle}">
            <DataGrid.Columns>
                <DataGridTextColumn Header="RoomID" Binding="{Binding RoomID}" Width="80"/>
                <DataGridTextColumn Header="Start" Binding="{Binding StartDate, StringFormat='{}{0:d}'}" Width="120"/>
                <DataGridTextColumn Header="End" Binding="{Binding EndDate, StringFormat='{}{0:d}'}" Width="120"/>
                <DataGridTextColumn Header="ActualPrice" Binding="{Binding ActualPrice, StringFormat=N0}" Width="120"/>
            </DataGrid.Columns>
        </DataGrid>
    </DockPanel>
</Window>