<Window x:Class="NguyenNguyenNguWPF.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="FUMiniHotelSystem" Height="640" Width="980" WindowStartupLocation="CenterScreen"
        Background="{DynamicResource HotelPrimaryBrush}">

    <Window.Resources>
        <Style x:Key="SidebarButtonStyle" TargetType="Button" BasedOn="{StaticResource HotelButtonStyle}">
            <Setter Property="Margin" Value="0,4"/>
            <Setter Property="Height" Value="45"/>
            <Setter Property="Background" Value="{DynamicResource HotelAccentBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource HotelPrimaryBrush}"/>
        </Style>

        <Style TargetType="Separator">
            <Setter Property="Background" Value="{DynamicResource HotelBorderBrush}"/>
            <Setter Property="Height" Value="1"/>
            <Setter Property="Margin" Value="0, 6"/>
        </Style>

        <Style x:Key="AdminMenuVisibility" TargetType="StackPanel">
            <Setter Property="Visibility" Value="Collapsed" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsAdmin}" Value="True">
                    <Setter Property="Visibility" Value="Visible" />
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="CustomerMenuVisibility" TargetType="StackPanel">
            <Setter Property="Visibility" Value="Collapsed" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsCustomer}" Value="True">
                    <Setter Property="Visibility" Value="Visible" />
                </DataTrigger>
            </Style.Triggers>
        </Style>

    </Window.Resources>

    <DockPanel>
        <Border DockPanel.Dock="Left" Width="220" 
                Background="#FF2D2D30">

            <StackPanel>
                <TextBlock Text="{Binding Title}" FontSize="18" FontWeight="Bold" Margin="0,0,0,12"
                           Foreground="{DynamicResource HotelHighlightBrush}"/>

                <StackPanel Style="{StaticResource AdminMenuVisibility}">
                    <Button Content="Dashboard" Command="{Binding ShowDashboardCommand}" Style="{StaticResource SidebarButtonStyle}"/>
                    <Separator/>
                    <Button Content="Customers" Command="{Binding ShowCustomersCommand}" Style="{StaticResource SidebarButtonStyle}"/>
                    <Button Content="Rooms" Command="{Binding ShowRoomsCommand}" Style="{StaticResource SidebarButtonStyle}"/>
                    <Button Content="Reservations" Command="{Binding ShowReservationsCommand}" Style="{StaticResource SidebarButtonStyle}"/>
                    <Button Content="Report" Command="{Binding ShowReportCommand}" Style="{StaticResource SidebarButtonStyle}"/>
                </StackPanel>

                <StackPanel Style="{StaticResource CustomerMenuVisibility}">
                    <Button Content="Profile" Command="{Binding ShowProfileCommand}" Style="{StaticResource SidebarButtonStyle}"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <ContentControl Content="{Binding CurrentView}" Margin="10"/>

    </DockPanel>
</Window>